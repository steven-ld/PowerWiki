# PowerWiki

<div align="center">

![PowerWiki Logo](https://img.shields.io/badge/PowerWiki-Markdown%20Wiki-blue?style=for-the-badge)

ä¸€ä¸ªç°ä»£åŒ–çš„åŸºäº Git ä»“åº“çš„ Markdown çŸ¥è¯†åº“ç³»ç»Ÿï¼Œæ”¯æŒè‡ªåŠ¨åŒæ­¥ã€ä»£ç é«˜äº®ã€ç›®å½•å¯¼èˆªç­‰åŠŸèƒ½ã€‚

[ç‰¹æ€§](#ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜) â€¢ [API æ–‡æ¡£](#api-æ–‡æ¡£) â€¢ [è´¡çŒ®](#è´¡çŒ®)

</div>

---

## âœ¨ ç‰¹æ€§

- ğŸ“š **è‡ªåŠ¨åŒæ­¥**: ä» Git ä»“åº“è‡ªåŠ¨æ‹‰å–å’Œæ›´æ–° Markdown æ–‡æ¡£ï¼ˆæ”¯æŒå®šæ—¶è‡ªåŠ¨åŒæ­¥ï¼‰
- ğŸ¨ **ä»£ç é«˜äº®**: æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•é«˜äº®ï¼ˆåŸºäº highlight.jsï¼‰
- ğŸ“± **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…å„ç§è®¾å¤‡å±å¹•
- ğŸ” **æœç´¢åŠŸèƒ½**: å¿«é€Ÿæœç´¢æ–‡ç« å†…å®¹
- ğŸ“‘ **ç›®å½•å¯¼èˆª**: è‡ªåŠ¨ç”Ÿæˆæ–‡ç« ç›®å½•ï¼Œæ”¯æŒç‚¹å‡»è·³è½¬å’Œæ»šåŠ¨é«˜äº®
- ğŸ¯ **é£ä¹¦æ–‡æ¡£é£æ ¼**: ç®€çº¦è€Œä¸ç®€å•çš„ç•Œé¢è®¾è®¡
- ğŸ—ï¸ **ç›®å½•æ ‘ç»“æ„**: è‡ªåŠ¨æŒ‰ Git ä»“åº“ç›®å½•ç»“æ„ç»„ç»‡æ–‡ç« ï¼ŒæŒ‰æ›´æ–°æ—¶é—´æ’åº
- ğŸ¨ **æ¨¡æ¿ç³»ç»Ÿ**: æ”¯æŒè‡ªå®šä¹‰ Header å’Œ Footer æ¨¡æ¿
- âš¡ **è½»é‡çº§**: æ— éœ€æ•°æ®åº“ï¼Œç›´æ¥è¯»å– Git ä»“åº“
- ğŸ“Š **è®¿é—®ç»Ÿè®¡**: è‡ªåŠ¨ç»Ÿè®¡æ–‡ç« æŸ¥çœ‹é‡å’Œç½‘ç«™æ€»è®¿é—®é‡
- ğŸ  **è‡ªå®šä¹‰é¦–é¡µ**: æ”¯æŒé…ç½® README æ–‡ä»¶ä½œä¸ºé¦–é¡µå†…å®¹
- ğŸ“„ **å…³äºé¡µé¢**: æ”¯æŒé…ç½® ABOUT æ–‡ä»¶ä½œä¸ºå…³äºé¡µé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 14.0.0
- npm >= 6.0.0
- Gitï¼ˆç”¨äºå…‹éš†ä»“åº“ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/steven-ld/PowerWiki.git
cd PowerWiki
```

2. **å®‰è£…ä¾èµ–**

```bash
npm install
```

3. **é…ç½®é¡¹ç›®**

å¤åˆ¶é…ç½®æ¨¡æ¿å¹¶ç¼–è¾‘ï¼š

```bash
cp config.example.json config.json
```

ç¼–è¾‘ `config.json`ï¼Œè®¾ç½®ä½ çš„ Git ä»“åº“åœ°å€ï¼š

```json
{
  "gitRepo": "https://github.com/your-username/your-wiki-repo.git",
  "repoBranch": "master",
  "mdPath": "",
  "port": 3000,
  "siteTitle": "æˆ‘çš„çŸ¥è¯†åº“",
  "siteDescription": "çŸ¥è¯†åº“",
  "pages": {
    "home": "README.md",
    "about": "ABOUT.md"
  }
}
```

4. **å¯åŠ¨æœåŠ¡å™¨**

```bash
npm start
```

æˆ–è€…ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰ï¼š

```bash
npm run dev
```

5. **è®¿é—®åšå®¢**

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:3000`

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ (config.json)

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `gitRepo` | string | Git ä»“åº“åœ°å€ï¼ˆæ”¯æŒ HTTPSï¼‰ | - |
| `repoBranch` | string | åˆ†æ”¯åç§° | `main` |
| `mdPath` | string | Markdown æ–‡ä»¶æ‰€åœ¨å­ç›®å½•ï¼ˆç•™ç©ºè¡¨ç¤ºæ ¹ç›®å½•ï¼‰ | `""` |
| `port` | number | æœåŠ¡å™¨ç«¯å£ | `3000` |
| `siteTitle` | string | ç½‘ç«™æ ‡é¢˜ | `PowerWiki` |
| `siteDescription` | string | ç½‘ç«™æè¿° | `çŸ¥è¯†åº“` |
| `autoSyncInterval` | number | è‡ªåŠ¨åŒæ­¥é—´éš”ï¼ˆæ¯«ç§’ï¼‰ | `180000` (3åˆ†é’Ÿ) |
| `footer.copyright` | string | é¡µè„šç‰ˆæƒä¿¡æ¯ | - |
| `footer.poweredBy` | string | é¡µè„š Powered by ä¿¡æ¯ | - |
| `pages.home` | string | é¦–é¡µæ–‡ä»¶è·¯å¾„ï¼ˆå¦‚ README.mdï¼‰ | `""` |
| `pages.about` | string | å…³äºé¡µé¢æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚ ABOUT.mdï¼‰ | `""` |

### æ¨¡æ¿è‡ªå®šä¹‰

é¡¹ç›®æ”¯æŒè‡ªå®šä¹‰ Header å’Œ Footer æ¨¡æ¿ï¼š

- `templates/header.html` - å¤´éƒ¨æ¨¡æ¿
- `templates/footer.html` - åº•éƒ¨æ¨¡æ¿

æ¨¡æ¿æ”¯æŒå˜é‡æ›¿æ¢ï¼š
- `{{siteTitle}}` - ç½‘ç«™æ ‡é¢˜
- `{{siteDescription}}` - ç½‘ç«™æè¿°
- `{{currentYear}}` - å½“å‰å¹´ä»½

## ğŸ“– API æ–‡æ¡£

### è·å–æ–‡ç« åˆ—è¡¨

```http
GET /api/posts
```

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "tree": {
    "dirs": {
      "Pytorch": {
        "files": [
          {
            "name": "Pytorchç¬”è®°",
            "path": "Pytorch/Pytorchç¬”è®°.md",
            "fullName": "Pytorchç¬”è®°.md",
            "modified": "2025-12-21T02:56:02.289Z",
            "size": 3038
          }
        ]
      }
    }
  },
  "flat": [...]
}
```

### è·å–å•ç¯‡æ–‡ç« 

```http
GET /api/post/:filePath
```

**å‚æ•°ï¼š**
- `filePath` - æ–‡ç« æ–‡ä»¶è·¯å¾„ï¼ˆURL ç¼–ç ï¼‰

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "html": "<h1>æ–‡ç« æ ‡é¢˜</h1><p>æ–‡ç« å†…å®¹...</p>",
  "title": "æ–‡ç« æ ‡é¢˜",
  "description": "æ–‡ç« æè¿°",
  "fileInfo": {
    "path": "Pytorch/Pytorchç¬”è®°.md",
    "name": "Pytorchç¬”è®°.md",
    "modified": "2025-12-21T02:56:02.289Z",
    "size": 3038
  },
  "path": "Pytorch/Pytorchç¬”è®°.md"
}
```

### è·å–ç½‘ç«™é…ç½®

```http
GET /api/config
```

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "header": "<header>...</header>",
  "footer": "<footer>...</footer>",
  "home": "<div>...</div>",
  "siteTitle": "PowerWiki",
  "siteDescription": "çŸ¥è¯†åº“"
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
PowerWiki/
â”œâ”€â”€ server.js              # Express æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ config.json            # é…ç½®æ–‡ä»¶ï¼ˆéœ€è¦åˆ›å»ºï¼‰
â”œâ”€â”€ config.example.json    # é…ç½®æ¨¡æ¿
â”œâ”€â”€ package.json           # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE                # MIT è®¸å¯è¯
â”œâ”€â”€ .gitignore            # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ gitManager.js      # Git ä»“åº“ç®¡ç†æ¨¡å—
â”‚   â””â”€â”€ markdownParser.js  # Markdown è§£ææ¨¡å—
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ header.html        # å¤´éƒ¨æ¨¡æ¿
â”‚   â””â”€â”€ footer.html        # åº•éƒ¨æ¨¡æ¿
â””â”€â”€ public/
    â”œâ”€â”€ index.html         # å‰ç«¯é¡µé¢
    â”œâ”€â”€ styles.css         # æ ·å¼æ–‡ä»¶
    â””â”€â”€ app.js             # å‰ç«¯é€»è¾‘
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: Express.js
- **å‰ç«¯**: åŸç”Ÿ JavaScript (ES6+)
- **Git æ“ä½œ**: simple-git
- **Markdown è§£æ**: marked
- **ä»£ç é«˜äº®**: highlight.js
- **æ ·å¼**: è‡ªå®šä¹‰ CSSï¼ˆé£ä¹¦æ–‡æ¡£é£æ ¼ï¼‰

## ğŸ¨ åŠŸèƒ½ç‰¹æ€§è¯¦è§£

### è‡ªåŠ¨åŒæ­¥

- å¯åŠ¨æ—¶è‡ªåŠ¨å…‹éš†æˆ–æ›´æ–° Git ä»“åº“
- æ”¯æŒå®šæ—¶è‡ªåŠ¨åŒæ­¥ï¼ˆé»˜è®¤ 3 åˆ†é’Ÿï¼‰
- å¯åœ¨é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰åŒæ­¥é—´éš”

### ç›®å½•æ ‘ç»“æ„

- è‡ªåŠ¨æŒ‰ Git ä»“åº“ç›®å½•ç»“æ„ç»„ç»‡æ–‡ç« 
- æ”¯æŒå¤šçº§ç›®å½•åµŒå¥—
- ç›®å½•å¯æŠ˜å /å±•å¼€
- æ–‡ä»¶åè‡ªåŠ¨ä½œä¸ºæ–‡ç« æ ‡é¢˜

### æ–‡ç« ç›®å½•ï¼ˆTOCï¼‰

- è‡ªåŠ¨ä»æ–‡ç« æ ‡é¢˜ç”Ÿæˆç›®å½•
- æ”¯æŒå¤šçº§æ ‡é¢˜ï¼ˆh1-h6ï¼‰
- ç‚¹å‡»ç›®å½•é¡¹å¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”ä½ç½®
- æ»šåŠ¨æ—¶è‡ªåŠ¨é«˜äº®å½“å‰æ ‡é¢˜

### æœç´¢åŠŸèƒ½

- å®æ—¶æœç´¢æ–‡ç« æ ‡é¢˜å’Œå†…å®¹
- æ”¯æŒä¸­æ–‡æœç´¢
- æœç´¢ç»“æœæŒ‰ç›®å½•ç»“æ„å±•ç¤º

### è®¿é—®ç»Ÿè®¡

- è‡ªåŠ¨è®°å½•æ¯ç¯‡æ–‡ç« çš„æŸ¥çœ‹é‡
- ç»Ÿè®¡ç½‘ç«™æ€»è®¿é—®é‡
- åœ¨æ–‡ç« å³ä¸Šè§’æ˜¾ç¤ºæŸ¥çœ‹é‡
- åœ¨é¡µè„šæ˜¾ç¤ºæ€»è®¿é—®é‡å’Œæ–‡ç« æ•°

### è‡ªå®šä¹‰é¦–é¡µå’Œå…³äºé¡µé¢

- æ”¯æŒé…ç½® README æ–‡ä»¶ä½œä¸ºé¦–é¡µå†…å®¹
- æ”¯æŒé…ç½® ABOUT æ–‡ä»¶ä½œä¸ºå…³äºé¡µé¢
- å¦‚æœæœªé…ç½®ï¼Œå°†æ˜¾ç¤ºé»˜è®¤æ¬¢è¿é¡µé¢
- é…ç½®ç¤ºä¾‹ï¼š
  ```json
  {
    "pages": {
      "home": "README.md",
      "about": "ABOUT.md"
    }
  }
  ```

### ç›®å½•æ’åº

- æ–‡ä»¶å’Œç›®å½•æŒ‰æ›´æ–°æ—¶é—´è‡ªåŠ¨æ’åº
- æœ€æ–°æ›´æ–°çš„æ–‡ä»¶æ’åœ¨æœ€å‰é¢
- ç›®å½•æ’åºåŸºäºç›®å½•ä¸‹æœ€æ–°æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

è¯¦è§ [CHANGELOG.md](CHANGELOG.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Express.js](https://expressjs.com/) - Web æ¡†æ¶
- [marked](https://marked.js.org/) - Markdown è§£æå™¨
- [highlight.js](https://highlightjs.org/) - ä»£ç é«˜äº®
- [simple-git](https://github.com/steveukx/git-js) - Git æ“ä½œåº“

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ [Issue](https://github.com/steven-ld/PowerWiki/issues)
- å‘é€é‚®ä»¶è‡³: 1852896007@qq.com

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Starï¼**

Made with â¤ï¸ by PowerWiki Team

</div>
